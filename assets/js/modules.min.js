!function(e){var t=[],i=function(e,t){e+="",x=e.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var i=/(\d+)(\d{3})/;i.test(x1);)x1=x1.replace(i,"$1,$2");return x2=t?x2.substr(0,t+1):"",x1+x2},n=function(e,t){t=t||e.value,e.$el.html((e.prefix?"<span class='incrementor--prefix'>"+e.prefix+"</span>":"")+(e.timeFormat?dateFormat(t,e.timeFormat,!0):i(t,e.decimals))+(e.suffix?"<span class='incrementor--suffix'>"+e.suffix+"</span>":""))},a=function(e){e.value=0,e.started=!0,e.incrementation=e.goal/(e.speed/100),e.decimals=e.goal%1?1:0,clearInterval(e.interval),e.interval=setInterval(function(){e.value+=e.incrementation,n(e),e.value>=e.goal&&(clearInterval(e.interval),n(e,e.goal))},100)},s=function(){var i=e(window).scrollTop();e.each(t,function(){i>=this.top&&!this.started&&!this.manual&&a(this)})};e.fn.incrementor=function(i,n){if(e(this).length){var a=e("#wpadminbar").length?e("#wpadminbar").innerHeight():0,o=e(this).offset().top,i=i||1e3,n=n||!1;t.push({$el:e(this),top:parseFloat(o,10)+a-e(window).innerHeight(),goal:parseFloat(e(this).text(),10),value:0,speed:i,started:!1,prefix:e(this).data("prefix")||"",suffix:e(this).data("suffix")||"",timeFormat:e(this).data("time")||!1,manual:n}),e(this).text(0),e(this).attr("data-incrementor",t.length),s()}},e.fn.increment=function(){var i=e(this).data("incrementor");a(t[i-1])},e(window).scroll(s)}(jQuery),function(e){function t(t,i){this.$wrapper=t,this.$map=t.find(".map"),this.$markers=this.$map.find(".marker"),this.map=null,this.$filters=t.find(i),this.filters=null,this.markers=[],this.infobox=null,this.defaultArgs={zoom:3,center:new google.maps.LatLng(0,0),mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1},this.init=function(){return this.createMap(),function(t){t.$filters.click(function(i){i.stopPropagation(),t.$filters.removeClass("selected"),e(this).addClass("selected"),t.filterMarkers()})}(this),this},this.createMap=function(){this.map=new google.maps.Map(this.$map[0],this.defaultArgs),function(t){t.$markers.each(function(){t.addMarker(e(this))})}(this),this.filterMarkers()},this.addMarker=function(e){var t=new google.maps.Marker({position:new google.maps.LatLng(e.data("lat"),e.data("lng")),map:this.map,filter:e.data("filter"),icon:{url:e.data("icon")}});if(this.markers.push(t),e.html()){var i=new google.maps.InfoWindow({content:e.html()});!function(e){google.maps.event.addListener(t,"click",function(){e.infowindow&&e.infowindow.close(),e.infowindow=i,e.infowindow.open(e.map,t)})}(this)}},this.filterMarkers=function(){this.filters=[],this.infowindow&&this.infowindow.close(),function(t){t.$filters.each(function(){e(this).hasClass("selected")&&t.filters.push(e(this).data("filter"))}),e.each(t.markers,function(e,i){t.filters.indexOf(i.filter)>=0?i.setVisible(!0):i.setVisible(!1)})}(this),this.center()},this.center=function(){var t=new google.maps.LatLngBounds,i=[];e.each(this.markers,function(e,n){n.visible&&(t.extend(new google.maps.LatLng(n.position.lat(),n.position.lng())),i.push(n))}),0==i.length?(this.map.setCenter(this.defaultArgs.center),this.map.setZoom(this.defaultArgs.zoom)):1==i.length?(this.map.setCenter(t.getCenter()),this.map.setZoom(10)):this.map.fitBounds(t)}}e.fn.gmap=function(i){return!!e(this).length&&new t(e(this),i).init()}}(jQuery),jQuery(function(e){function t(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}"undefined"!=typeof Marionette&&new(Marionette.Object.extend({initialize:function(){this.listenTo(Backbone.Radio.channel("submit"),"validate:field",this.validateRequired),this.listenTo(Backbone.Radio.channel("fields"),"change:modelValue",this.validateRequired),this.listenTo(nfRadio.channel("listselect"),"render:view",this.listselectRender),this.listenTo(nfRadio.channel("fileuploadfield"),"render:view",this.dropzoneRender)},validateRequired:function(e){var i=e.get("value"),n=e.get("id");switch(e.get("type")){case"login":t(i)?Backbone.Radio.channel("fields").request("remove:error",n,"login-error"):Backbone.Radio.channel("fields").request("add:error",n,"login-error","Please provide a valid email address.");break;default:return}},listselectRender:function(t){e(t.el).find("select").select2({minimumResultsForSearch:8,placeholder:"Cliquez pour choisir"}).change(function(){t.model.attributes.value=e(this).val(),t.model.attributes.value&&Backbone.Radio.channel("fields").request("remove:error",t.model.id,"required-error")})},dropzoneRender:function(t){var i=e(t.el).find(".ninja-forms-field"),n=e(t.el).find("label"),a=Date.now();n.dropzone({url:ajaxurl+"?action=syltaen_ajax_upload&time="+a,paramName:t.model.attributes.key,acceptedFiles:t.model.attributes.filetypes,uploadMultiple:!1,maxFilesize:t.model.attributes.maxupload,clickable:!0,dictDefaultMessage:t.model.attributes.label,dictFileTooBig:"This file is too heavy ({{filesize}}Mb) - Max. authorised : {{maxFilesize}}Mb",dictInvalidFileType:"Ce type de fichier n'est pas autorisÃ©.",uploadprogress:function(e,t){t>=100&&i.val(a+"_"+e.name)},accept:function(e,t){t()},init:function(){this.on("addedfile",function(){n.find(".dz-preview").size()>1&&n.find(".dz-preview").first().remove()})}}),n.on("click","div",function(e){e.stopPropagation(),n.click()})}}))});
//# sourceMappingURL=modules.min.js.map